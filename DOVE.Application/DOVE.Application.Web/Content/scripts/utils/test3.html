<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <script>
        top.learun = (function ($) {
            var learun = {
                isDebug: true,
                log: function () {
                    if (learun.isDebug) {
                        console.log("=====>" + new Date().getTime() + "<=====");
                        var len = arguments.length;
                        for (var i = 0; i < len; i++) {
                            console.log(arguments[i])
                        }
                    }
                },
                newGuid: function () {
                    var guid = "";
                    for (var i = 1; i <= 32; i++) {
                        var n = Math.floor(Math.random() * 16).toString(16);
                        guid += n;
                        if ((i == 8) || (i == 12) || (i == 16) || (i == 20)) { guid += "-" }
                    }
                    return guid
                },
                loading: function (isShow, text) { var $loading = top.$("#lr_loading_bar"); if (!!text) { top.$("#lr_loading_bar_message").html(text) } else { top.$("#lr_loading_bar_message").html("正在拼了命为您加载…") } if (isShow) { $loading.show() } else { $loading.hide() } },
                loadStyles: function (url) { var link = document.createElement("link"); link.type = "text/css"; link.rel = "stylesheet"; link.href = url; document.getElementsByTagName("head")[0].appendChild(link) },
                iframe: function (Id, _frames) { if (_frames[Id] != undefined) { if (_frames[Id].contentWindow != undefined) { return _frames[Id].contentWindow } else { return _frames[Id] } } else { return null } },
                changeUrlParam: function (url, key, value) { var newUrl = ""; var reg = new RegExp("(^|)" + key + "=([^&]*)(|$)"); var tmp = key + "=" + value; if (url.match(reg) != null) { newUrl = url.replace(eval(reg), tmp) } else { if (url.match("[?]")) { newUrl = url + "&" + tmp } else { newUrl = url + "?" + tmp } } return newUrl },
                toDecimal: function (num) { if (num == null) { num = "0" } num = num.toString().replace(/\$|\,/g, ""); if (isNaN(num)) { num = "0" } var sign = (num == (num = Math.abs(num))); num = Math.floor(num * 100 + 0.50000000001); var cents = num % 100; num = Math.floor(num / 100).toString(); if (cents < 10) { cents = "0" + cents } for (var i = 0; i < Math.floor((num.length - (1 + i)) / 3); i++) { num = num.substring(0, num.length - (4 * i + 3)) + "" + num.substring(num.length - (4 * i + 3)) } return (((sign) ? "" : "-") + num + "." + cents) },
                countFileSize: function (size) { if (size < 1024) { return learun.toDecimal(size) + " 字节" } else { if (size >= 1024 && size < 1048576) { return learun.toDecimal(size / 1024) + " KB" } else { if (size >= 1048576 && size < 1073741824) { return learun.toDecimal(size / 1024 / 1024) + " MB" } else { if (size >= 1073741824) { return learun.toDecimal(size / 1024 / 1024 / 1024) + " GB" } } } } },
                arrayCopy: function (data) { return $.map(data, function (obj) { return $.extend(true, {}, obj) }) },
                checkrow: function (id) { var isOK = true; if (id == undefined || id == "" || id == "null" || id == "undefined") { isOK = false; learun.alert.warning("您没有选中任何数据项,请选中后再操作！") } return isOK },
                alert: { success: function (msg) { toastr.success(msg) }, info: function (msg) { toastr.info(msg) }, warning: function (msg) { toastr.warning(msg) }, error: function (msg) { toastr.error(msg) } },
                download: function (options) { var defaults = { method: "GET", url: "", param: [] }; var options = $.extend(defaults, options); if (options.url && options.param) { var $form = $('<form action="' + options.url + '" method="' + (options.method || "post") + '"></form>'); for (var key in options.param) { var $input = $('<input type="hidden" />').attr("name", key).val(options.param[key]); $form.append($input) } $form.appendTo("body").submit().remove() } },
                commafy: function (num) { if (num == null) { num = "0" } if (isNaN(num)) { return "0" } num = num + ""; if (/^.*\..*$/.test(num)) { varpointIndex = num.lastIndexOf("."); varintPart = num.substring(0, pointIndex); varpointPart = num.substring(pointIndex + 1, num.length); intPart = intPart + ""; var re = /(-?\d+)(\d{3})/; while (re.test(intPart)) { intPart = intPart.replace(re, "$1,$2") } num = intPart + "." + pointPart } else { num = num + ""; var re = /(-?\d+)(\d{3})/; while (re.test(num)) { num = num.replace(re, "$1,$2") } } return num }
            };
            return learun
        })(window.jQuery);

        (function (a, c) {
            var b = {};
            c.frameTab = { iframeId: "", init: function () { c.frameTab.bind() }, bind: function () { a(".lr-frame-tabs-wrap").mCustomScrollbar({ axis: "x", theme: "minimal-dark" }) }, setCurrentIframeId: function (d) { c.iframeId = d }, open: function (h, i) { var g = a("#lr_frame_tabs_ul"); var d = a("#lr_frame_main"); if (b[h.F_ModuleId] == undefined || b[h.F_ModuleId] == null) { if (c.frameTab.iframeId != "") { g.find("#lr_tab_" + c.frameTab.iframeId).removeClass("active"); d.find("#lr_iframe_" + c.frameTab.iframeId).removeClass("active"); b[c.frameTab.iframeId] = 0 } c.frameTab.iframeId = h.F_ModuleId; b[c.frameTab.iframeId] = 1; var f = a('<li class="lr-frame-tabItem active" id="lr_tab_' + h.F_ModuleId + '" ><span><i class="' + h.F_Icon + '"></i>&nbsp;' + h.F_FullName + "</span></li>"); if (!i) { f.append('<span class="reomve" title="关闭窗口"></span>') } var e = a('<iframe class="lr-frame-iframe active" id="lr_iframe_' + h.F_ModuleId + '" frameborder="0" src="' + a.rootUrl + h.F_UrlAddress + '"></iframe>'); g.append(f); d.append(e); a(".lr-frame-tabs-wrap").mCustomScrollbar("update"); a(".lr-frame-tabs-wrap").mCustomScrollbar("scrollTo", f); f.on("click", function () { var j = a(this).attr("id").replace("lr_tab_", ""); c.frameTab.focus(j) }); f.find(".reomve").on("click", function () { var j = a(this).parent().attr("id").replace("lr_tab_", ""); c.frameTab.close(j); return false }); if (!!c.frameTab.opencallback) { c.frameTab.opencallback() } if (!i) { a.ajax({ url: top.$.rootUrl + "/Home/VisitModule", data: { moduleName: h.F_FullName, moduleUrl: h.F_UrlAddress }, type: "post", dataType: "text" }) } } else { c.frameTab.focus(h.F_ModuleId) } }, focus: function (d) { if (b[d] == 0) { a("#lr_tab_" + c.frameTab.iframeId).removeClass("active"); a("#lr_iframe_" + c.frameTab.iframeId).removeClass("active"); b[c.frameTab.iframeId] = 0; a("#lr_tab_" + d).addClass("active"); a("#lr_iframe_" + d).addClass("active"); c.frameTab.iframeId = d; b[d] = 1; a(".lr-frame-tabs-wrap").mCustomScrollbar("scrollTo", a("#lr_tab_" + d)); if (!!c.frameTab.opencallback) { c.frameTab.opencallback() } } }, leaveFocus: function () { a("#lr_tab_" + c.frameTab.iframeId).removeClass("active"); a("#lr_iframe_" + c.frameTab.iframeId).removeClass("active"); b[c.frameTab.iframeId] = 0; c.frameTab.iframeId = "" }, close: function (f) { delete b[f]; var e = a("#lr_tab_" + f); var d = e.prev(); if (d.length < 1) { d = e.next() } e.remove(); a("#lr_iframe_" + f).remove(); if (f == c.frameTab.iframeId && d.length > 0) { var g = d.attr("id").replace("lr_tab_", ""); d.addClass("active"); a("#lr_iframe_" + g).addClass("active"); c.frameTab.iframeId = g; b[g] = 1; a(".lr-frame-tabs").css("width", "10000px"); a(".lr-frame-tabs-wrap").mCustomScrollbar("update"); a(".lr-frame-tabs").css("width", "100%"); a(".lr-frame-tabs-wrap").mCustomScrollbar("scrollTo", d) } else { if (d.length < 1) { c.frameTab.iframeId = "" } a(".lr-frame-tabs").css("width", "10000px"); a(".lr-frame-tabs-wrap").mCustomScrollbar("update"); a(".lr-frame-tabs").css("width", "100%") } if (!!c.frameTab.closecallback) { c.frameTab.closecallback() } }, currentIframe: function () { var d = "lr_iframe_" + c.frameTab.iframeId; if (top.frames[d].contentWindow != undefined) { return top.frames[d].contentWindow } else { return top.frames[d] } }, opencallback: false, closecallback: false }; c.frameTab.init()
        })(window.jQuery, top.learun);

        (function (a, b) {
            a.extend(b, { parseDate: function (d) { var c; if (d.indexOf("/Date(") > -1) { c = new Date(parseInt(d.replace("/Date(", "").replace(")/", ""), 10)) } else { c = new Date(Date.parse(d.replace(/-/g, "/").replace("T", " ").split(".")[0])) } return c }, formatDate: function (h, e) { if (!h) { return "" } var c = h; if (typeof h === "string") { if (h.indexOf("/Date(") > -1) { c = new Date(parseInt(h.replace("/Date(", "").replace(")/", ""), 10)) } else { c = new Date(Date.parse(h.replace(/-/g, "/").replace("T", " ").split(".")[0])) } } var g = { "M+": c.getMonth() + 1, "d+": c.getDate(), "h+": c.getHours(), "m+": c.getMinutes(), "s+": c.getSeconds(), "q+": Math.floor((c.getMonth() + 3) / 3), S: c.getMilliseconds() }; if (/(y+)/.test(e)) { e = e.replace(RegExp.$1, (c.getFullYear() + "").substr(4 - RegExp.$1.length)) } for (var f in g) { if (new RegExp("(" + f + ")").test(e)) { e = e.replace(RegExp.$1, RegExp.$1.length == 1 ? g[f] : ("00" + g[f]).substr(("" + g[f]).length)) } } return e }, getDate: function (c, g, e) { var d = new Date(); if (!!g) { d = d.DateAdd(g, e) } var f = b.formatDate(d, c); return f }, getMonth: function () { var e = { begin: "", end: "" }; var c = b.parseDate(b.formatDate(new Date(), "yyyy-MM-01")); var d = c.DateAdd("m", 1).DateAdd("d", -1); e.begin = b.formatDate(c, "yyyy-MM-dd 00:00:00"); e.end = b.formatDate(d, "yyyy-MM-dd 23:59:59"); return e }, getPreMonth: function () { var e = { begin: "", end: "" }; var c = b.parseDate(b.formatDate(new Date(), "yyyy-MM-01")); var d = c.DateAdd("d", -1); e.begin = b.formatDate(d, "yyyy-MM-01 00:00:00"); e.end = b.formatDate(d, "yyyy-MM-dd 23:59:59"); return e }, getCurrentQuarter: function () { var c = new Date(); return b.getQuarter(c.getFullYear(), c.getMonth()) }, getPreQuarter: function () { var c = new Date().DateAdd("q", -1); return b.getQuarter(c.getFullYear(), c.getMonth()) }, getQuarter: function (e, c) { var d = { begin: "", end: "" }; switch (c) { case 0: case 1: case 2: d.begin = e + "-01-01 00:00:00"; d.end = e + "-03-31 23:59:59"; break; case 3: case 4: case 5: d.begin = e + "-04-01 00:00:00"; d.end = e + "-06-30 23:59:59"; break; case 6: case 7: case 8: d.begin = e + "-07-01 00:00:00"; d.end = e + "-09-30 23:59:59"; break; case 9: case 10: case 11: d.begin = e + "-10-01 00:00:00"; d.end = e + "-12-31 23:59:59"; break }return d }, getYear: function () { var c = new Date(); var d = { begin: "", end: "" }; var e = c.getFullYear(); d.begin = e + "-01-01 00:00:00"; d.end = e + "-12-31 23:59:59"; return d }, getPreYear: function () { var c = new Date(); var d = { begin: "", end: "" }; var e = c.getFullYear() - 1; d.begin = e + "-01-01 00:00:00"; d.end = e + "-12-31 23:59:59"; return d }, getFirstHalfYear: function () { var c = new Date(); var d = { begin: "", end: "" }; var e = c.getFullYear(); d.begin = e + "-01-01 00:00:00"; d.end = e + "-06-30 23:59:59"; return d }, getSecondHalfYear: function () { var c = new Date(); var d = { begin: "", end: "" }; var e = c.getFullYear(); d.begin = e + "-07-01 00:00:00"; d.end = e + "-12-31 23:59:59"; return d } }); Date.prototype.DateAdd = function (e, d) { var c = this; switch (e) { case "s": return new Date(Date.parse(c) + (1000 * d)); case "n": return new Date(Date.parse(c) + (60000 * d)); case "h": return new Date(Date.parse(c) + (3600000 * d)); case "d": return new Date(Date.parse(c) + (86400000 * d)); case "w": return new Date(Date.parse(c) + ((86400000 * 7) * d)); case "q": return new Date(c.getFullYear(), (c.getMonth()) + d * 3, c.getDate(), c.getHours(), c.getMinutes(), c.getSeconds()); case "m": return new Date(c.getFullYear(), (c.getMonth()) + d, c.getDate(), c.getHours(), c.getMinutes(), c.getSeconds()); case "y": return new Date((c.getFullYear() + d), c.getMonth(), c.getDate(), c.getHours(), c.getMinutes(), c.getSeconds()) } }; Date.prototype.DateDiff = function (e, c) { var d = this; if (typeof c == "string") { c = b.parseDate(c) } switch (e) { case "s": return parseInt((c - d) / 1000); case "n": return parseInt((c - d) / 60000); case "h": return parseInt((c - d) / 3600000); case "d": return parseInt((c - d) / 86400000); case "w": return parseInt((c - d) / (86400000 * 7)); case "m": return (c.getMonth() + 1) + ((c.getFullYear() - d.getFullYear()) * 12) - (d.getMonth() + 1); case "y": return c.getFullYear() - d.getFullYear() } }; Date.prototype.MaxDayOfDate = function () { var f = this; var c = f.toArray(); var d = (new Date(c[0], c[1] + 1, 1)); var e = d.DateAdd("m", 1); var g = dateDiff(d.Format("yyyy-MM-dd"), e.Format("yyyy-MM-dd")); return g }; Date.prototype.isLeapYear = function () { return (0 == this.getYear() % 4 && ((this.getYear() % 100 != 0) || (this.getYear() % 400 == 0))) }
        })(jQuery, top.learun);

        (function (a, b) {
            b.validator = { validReg: function (d, e, c) { var f = { code: true, msg: "" }; if (!e.test(d)) { f.code = false; f.msg = c } return f }, validRegOrNull: function (d, e, c) { var f = { code: true, msg: "" }; if (d == null || d == undefined || d.length == 0) { return f } if (!e.test(d)) { f.code = false; f.msg = c } return f }, isNotNull: function (c) { var d = { code: true, msg: "" }; c = a.trim(c); if (c == null || c == undefined || c.length == 0) { d.code = false; d.msg = "不能为空" } return d }, isNum: function (c) { return b.validator.validReg(c, /^[-+]?\d+$/, "必须为数字") }, isNumOrNull: function (c) { return b.validator.validRegOrNull(c, /^[-+]?\d+$/, "数字或空") }, isEmail: function (c) { return b.validator.validReg(c, /^\w{3,}@\w+(\.\w+)+$/, "必须为E-mail格式") }, isEmailOrNull: function (c) { return b.validator.validRegOrNull(c, /^\w{3,}@\w+(\.\w+)+$/, "必须为E-mail格式或空") }, isEnglishStr: function (c) { return b.validator.validReg(c, /^[a-z,A-Z]+$/, "必须为英文字符串") }, isEnglishStrOrNull: function (c) { return b.validator.validRegOrNull(c, /^[a-z,A-Z]+$/, "必须为英文字符串或空") }, isTelephone: function (c) { return b.validator.validReg(c, /^(\d{3,4}\-)?[1-9]\d{6,7}$/, "必须为电话格式") }, isTelephoneOrNull: function (c) { return b.validator.validRegOrNull(c, /^(\d{3,4}\-)?[1-9]\d{6,7}$/, "必须为电话格式或空") }, isMobile: function (c) { return b.validator.validReg(c, /^(\+\d{2,3}\-)?\d{11}$/, "必须为手机格式") }, isMobileOrnull: function (c) { return b.validator.validRegOrNull(c, /^(\+\d{2,3}\-)?\d{11}$/, "必须为手机格式或空") }, isMobileOrPhone: function (c) { var d = { code: true, msg: "" }; if (!b.validator.isTelephone(c).code && !b.validator.isMobile(c).code) { d.code = false; d.msg = "为电话格式或手机格式" } return d }, isMobileOrPhoneOrNull: function (c) { var d = { code: true, msg: "" }; if (b.validator.isNotNull(c).code && !b.validator.isTelephone(c).code && !b.validator.isMobile(c).code) { d.code = false; d.msg = "为电话格式或手机格式或空" } return d }, isUri: function (c) { return b.validator.validReg(c, /^http:\/\/[a-zA-Z0-9]+\.[a-zA-Z0-9]+[\/=\?%\-&_~`@[\]\':+!]*([^<>\"\"])*$/, "必须为网址格式") }, isUriOrNull: function (c) { return b.validator.validRegOrNull(c, /^http:\/\/[a-zA-Z0-9]+\.[a-zA-Z0-9]+[\/=\?%\-&_~`@[\]\':+!]*([^<>\"\"])*$/, "必须为网址格式或空") }, isDate: function (c) { return b.validator.validReg(c, /^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/, "必须为日期格式") }, isDateOrNull: function (c) { return b.validator.validRegOrNull(c, /^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/, "必须为日期格式或空") }, isDateTime: function (c) { return b.validator.validReg(c, /^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/, "必须为日期时间格式") }, isDateTimeOrNull: function (c) { return b.validator.validRegOrNull(c, /^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/, "必须为日期时间格式") }, isTime: function (c) { return b.validator.validReg(c, /^((20|21|22|23|[0-1]\d)\:[0-5][0-9])(\:[0-5][0-9])?$/, "必须为时间格式") }, isTimeOrNull: function (c) { return b.validator.validRegOrNull(c, /^((20|21|22|23|[0-1]\d)\:[0-5][0-9])(\:[0-5][0-9])?$/, "必须为时间格式或空") }, isChinese: function (c) { return b.validator.validReg(c, /^[\u0391-\uFFE5]+$/, "必须为中文") }, isChineseOrNull: function (c) { return b.validator.validRegOrNull(c, /^[\u0391-\uFFE5]+$/, "必须为中文或空") }, isZip: function (c) { return b.validator.validReg(c, /^\d{6}$/, "必须为邮编格式") }, isZipOrNull: function (c) { return b.validator.validRegOrNull(c, /^\d{6}$/, "必须为邮编格式或空") }, isDouble: function (c) { return b.validator.validReg(c, /^[-\+]?\d+(\.\d+)?$/, "必须为小数") }, isDoubleOrNull: function (c) { return b.validator.validRegOrNull(c, /^[-\+]?\d+(\.\d+)?$/, "必须为小数或空") }, isIDCard: function (c) { return b.validator.validReg(c, /^\d{15}(\d{2}[A-Za-z0-9;])?$/, "必须为身份证格式") }, isIDCardOrNull: function (c) { return b.validator.validRegOrNull(c, /^\d{15}(\d{2}[A-Za-z0-9;])?$/, "必须为身份证格式或空") }, isIP: function (d) { var f = { code: true, msg: "" }; var e = /^(\d+)\.(\d+)\.(\d+)\.(\d+)$/g; var c = false; if (e.test(d)) { if (RegExp.$1 < 256 && RegExp.$2 < 256 && RegExp.$3 < 256 && RegExp.$4 < 256) { c = true } } if (!c) { f.code = false; f.msg = "必须为IP格式" } return f }, isIPOrNull: function (c) { var d = { code: true, msg: "" }; if (b.validator.isNotNull(c) && !b.validator.isIP(c).code) { d.code = false; d.msg = "必须为IP格式或空" } return d }, isLenNum: function (d, c) { var f = { code: true, msg: "" }; var e = /^[0-9]+$/; d = a.trim(d); if (d.length > c || !e.test(d)) { f.code = false; f.msg = "必须为" + c + "位数字" } return f }, isLenNumOrNull: function (d, c) { var e = { code: true, msg: "" }; if (b.validator.isNotNull(d).code && !b.validator.isLenNum(d)) { e.code = false; e.msg = "必须为" + c + "位数字或空" } return e }, isLenStr: function (d, c) { var e = { code: true, msg: "" }; d = a.trim(d); if (!b.validator.isNotNull(d).code || d.length > c) { e.code = false; e.msg = "必须小于等于" + c + "位字符" } return e }, isLenStrOrNull: function (d, c) { var e = { code: true, msg: "" }; d = a.trim(d); if (b.validator.isNotNull(d).code && d.length > c) { e.code = false; e.msg = "必须小于等于" + c + "位字符或空" } return e } }
        })(window.jQuery, top.learun);

        (function (a, b) {
            a.extend(b, { layerConfirm: function (d, c) { top.layer.confirm(d, { btn: ["确认", "取消"], title: "力软提示", icon: 0, skin: "lr-layer", }, function (e) { c(true, e) }, function (e) { c(false, e); top.layer.close(e) }) }, layerForm: function (d) { var c = { id: null, title: "系统窗口", width: 550, height: 400, url: "error", btn: ["确认", "关闭"], callBack: false, maxmin: false, end: false, }; a.extend(c, d || {}); c.width = c.width > a(window).width() ? a(window).width() - 10 : c.width; c.height = c.height > a(window).height() ? a(window).height() - 10 : c.height; var e = top.layer.open({ id: c.id, maxmin: c.maxmin, type: 2, title: c.title, area: [c.width + "px", c.height + "px"], btn: c.btn, content: d.url, skin: c.btn == null ? "lr-layer-nobtn" : "lr-layer", success: function (g, f) { top["layer_" + c.id] = b.iframe(a(g).find("iframe").attr("id"), top.frames); g[0].learun_layerid = "layer_" + c.id; if (!!c.btn && g.find(".lr-layer-btn-cb").length == 0) { g.find(".layui-layer-btn").append('<div class="checkbox lr-layer-btn-cb" myIframeId="layer_' + c.id + '" ><label><input checked="checked" type="checkbox" >确认并关闭窗口</label></div>') } }, yes: function (g) { var f = true; if (!!c.callBack) { f = c.callBack("layer_" + c.id) } if (!!f) { b.layerClose("", g) } }, end: function () { top["layer_" + c.id] = null; if (!!c.end) { c.end() } } }) }, layerClose: function (h, e) { var d; if (!!e) { d = e } else { d = top.layer.getFrameIndex(h) } var g = top.$("#layui-layer" + d); var c = g.find(".layui-layer-btn").find(".lr-layer-btn-cb input"); var f = c.is(":checked"); if (c.length == 0) { f = true } if (f) { top.layer.close(d) } else { top[g[0].learun_layerid].location.reload() } } })
        })(window.jQuery, top.learun);

        (function (a, d) {
            var c = { success: 200, fail: 400, exception: 500 }; var b = { code: c.exception, info: "通信异常，请联系管理员！" }; a.extend(d, { httpErrorLog: function (e) { d.log(e) }, httpCode: c, httpAsyncGet: function (f, e) { a.ajax({ url: f, type: "GET", dataType: "json", async: true, cache: false, success: function (g) { if (g.code == d.httpCode.exception) { d.httpErrorLog(g.info); if (g.info != "Learun敏捷框架提醒您：测试环境请不要删除及修改系统数据!") { g.info = "系统异常，请联系管理员！" } } e(g) }, error: function (i, h, g) { d.httpErrorLog(h); e(b) }, beforeSend: function () { }, complete: function () { } }) }, httpGet: function (g, e) { var f = {}; a.ajax({ url: g, data: e, type: "GET", dataType: "json", async: false, cache: false, success: function (h) { if (h.code == d.httpCode.exception) { d.httpErrorLog(h.info); if (h.info != "Learun敏捷框架提醒您：测试环境请不要删除及修改系统数据!") { h.info = "系统异常，请联系管理员！" } } f = h }, error: function (j, i, h) { d.httpErrorLog(i) }, beforeSend: function () { }, complete: function () { } }); return f }, httpAsyncPost: function (g, f, e) { a.ajax({ url: g, data: f, type: "POST", dataType: "json", async: true, cache: false, success: function (h) { if (h.code == d.httpCode.exception) { d.httpErrorLog(h.info); if (h.info != "Learun敏捷框架提醒您：测试环境请不要删除及修改系统数据!") { h.info = "系统异常，请联系管理员！" } } e(h) }, error: function (j, i, h) { d.httpErrorLog(i); e(b) }, beforeSend: function () { }, complete: function () { } }) }, httpPost: function (g, f, e) { a.ajax({ url: g, data: f, type: "POST", dataType: "json", async: false, cache: false, success: function (h) { if (h.code == d.httpCode.exception) { d.httpErrorLog(h.info); if (h.info != "Learun敏捷框架提醒您：测试环境请不要删除及修改系统数据!") { h.info = "系统异常，请联系管理员！" } } e(h) }, error: function (j, i, h) { d.httpErrorLog(i); e(b) }, beforeSend: function () { }, complete: function () { } }) }, httpAsync: function (g, h, f, e) { a.ajax({ url: h, data: f, type: g, dataType: "json", async: true, cache: false, success: function (i) { if (i.code == d.httpCode.success) { e(i.data) } else { d.httpErrorLog(i.info); e(null) } }, error: function (k, j, i) { d.httpErrorLog(j); e(null) }, beforeSend: function () { }, complete: function () { } }) }, deleteForm: function (g, f, e) { d.loading(true, "正在删除数据"); d.httpAsyncPost(g, f, function (h) { d.loading(false); if (h.code == d.httpCode.success) { if (!!e) { e(h) } d.alert.success(h.info) } else { d.alert.error(h.info); d.httpErrorLog(h.info) } layer.close(layer.index) }) }, postForm: function (g, f, e) { d.loading(true, "正在提交数据"); d.httpAsyncPost(g, f, function (h) { d.loading(false); if (h.code == d.httpCode.success) { if (!!e) { e(h) } d.alert.success(h.info) } else { d.alert.error(h.info); d.httpErrorLog(h.info) } layer.close(layer.index) }) } })
        })(window.jQuery, top.learun);

        (function (a, i) {
            var b = null; var e = {}; var c = {}; var d = {}; var j = { no: -1, yes: 1, ing: 0, fail: 2 }; function f() { a.each(d.excelImportTemplate, function (k, l) { d.excelImportTemplate[k] = { keys: l } }) } function g(m, k) { var o = ""; var n = k.length; if (n == undefined) { o = k[m] } else { for (var l = 0; l < n; l++) { if (m(k[l])) { o = k[l]; break } } } return o } function h() { var m = j.yes; for (var l in e) { var k = e[l]; if (k.state == j.fail) { m = j.fail; break } else { if (k.state == j.no) { m = j.ing; k.init() } else { if (k.state == j.ing) { m = j.ing } } } } return m } i.clientdata = { init: function (k) { if (b == null) { b = k } var l = h(); if (l == j.yes) { b(true) } else { if (l == j.ing) { setTimeout(i.clientdata.init, 100) } else { b(false) } } }, get: function (n) { var o = ""; if (!n) { return o } var m = n.length; var k = d; for (var l = 0; l < m; l++) { o = g(n[l], k); if (o != "" && o != undefined) { k = o } else { break } } o = o || ""; return o }, getAsync: function (k, l) { return c[k].get(l) } }; e.modules = { state: j.no, init: function () { e.modules.state = j.ing; i.httpAsyncGet(a.rootUrl + "/LR_SystemModule/Module/GetModuleList", function (k) { if (k.code == i.httpCode.success) { d.modules = k.data; e.modules.toMap(); e.modules.state = j.yes } else { d.modules = []; e.modules.toMap(); e.modules.state = j.fail } }) }, toMap: function () { var o = {}; var n = {}; var l = d.modules.length; for (var m = 0; m < l; m++) { var k = d.modules[m]; if (k.F_EnabledMark == 1) { o[k.F_ParentId] = o[k.F_ParentId] || []; o[k.F_ParentId].push(k); n[k.F_ModuleId] = k } } d.modulesTree = o; d.modulesMap = n } }; e.userinfo = { state: j.no, init: function () { e.userinfo.state = j.ing; i.httpAsyncGet(a.rootUrl + "/Login/GetUserInfo", function (k) { if (k.code == i.httpCode.success) { d.userinfo = k.data; e.userinfo.state = j.yes } else { e.userinfo.state = j.fail } }) } }; c.company = { timeout: 300000, states: j.no, get: function (l) { if (c.company.states == j.no) { c.company.states = j.ing; c.company.load() } if (c.company.states == j.ing) { var m = l; setTimeout(function () { c.company.get(m) }, 100) } else { var k = d.company; if (!!k) { l.callback(c.company.find(l.key, k)) } else { l.callback({}) } } }, load: function () { i.httpAsync("GET", top.$.rootUrl + "/LR_OrganizationModule/Company/GetList", null, function (k) { if (!!k) { d.company = k } c.company.states = j.yes; setTimeout(function () { c.company.states = j.no }, c.company.timeout) }) }, find: function (n, k) { var p = {}; for (var m = 0, o = k.length; m < o; m++) { if (k[m].F_CompanyId == n) { p = k[m]; break } } return p } }; c.department = { timeout: 300000, states: {}, get: function (l) { if (c.department.states[l.companyId] == undefined || c.department.states[l.companyId] == j.no) { c.department.states[l.companyId] = j.ing; c.department.load(l.companyId) } if (c.department.states[l.companyId] == j.ing) { var m = l; setTimeout(function () { c.department.get(m) }, 100) } else { var k = d[l.companyId]; if (!!k) { l.callback(c.department.find(l.key, k)) } else { l.callback({}) } } }, load: function (k) { i.httpAsync("GET", top.$.rootUrl + "/LR_OrganizationModule/Department/GetList", { companyId: k }, function (l) { if (!!l) { d[k] = l } c.department.states[k] = j.yes; setTimeout(function () { c.department.states[k] = j.no }, c.department.timeout) }) }, find: function (n, k) { var p = {}; for (var m = 0, o = k.length; m < o; m++) { if (k[m].F_DepartmentId == n) { p = k[m]; break } } return p } }; c.departmentone = { states: {}, get: function (l) { d.departmentone = d.departmentone || {}; if (c.departmentone.states[l.departmentId] == undefined || c.departmentone.states[l.departmentId] == j.no) { c.departmentone.states[l.departmentId] = j.ing; c.departmentone.load(l.departmentId) } if (c.departmentone.states[l.departmentId] == j.ing) { var m = l; setTimeout(function () { c.departmentone.get(m) }, 100) } else { var k = d.departmentone[l.departmentId]; if (!!k) { l.callback(k) } else { l.callback({}) } } }, load: function (k) { i.httpAsync("GET", top.$.rootUrl + "/LR_OrganizationModule/Department/GetEntity", { departmentId: k }, function (l) { if (!!l) { d.departmentone[k] = l } c.departmentone.states[k] = j.yes }) } }; c.user = { states: {}, get: function (l) { d.user = d.user || {}; if (c.user.states[l.userId] == undefined || c.user.states[l.userId] == j.no) { c.user.states[l.userId] = j.ing; c.user.load(l.userId) } if (c.user.states[l.userId] == j.ing) { var m = l; setTimeout(function () { c.user.get(m) }, 100) } else { var k = d.user[l.userId]; if (!!k) { l.callback(k, l) } else { l.callback({}, l) } } }, load: function (k) { i.httpAsync("GET", top.$.rootUrl + "/LR_OrganizationModule/User/GetUserEntity", { userId: k }, function (l) { if (!!l) { d.user[k] = l } c.user.states[k] = j.yes }) } }; c.db = { timeout: 600000, states: j.no, get: function (l) { if (c.db.states == j.no) { c.db.states = j.ing; c.db.load() } if (c.db.states == j.ing) { var m = l; setTimeout(function () { c.db.get(m) }, 100) } else { var k = d.db; if (!!k) { l.callback(c.db.find(l.key, k)) } else { l.callback({}) } } }, load: function () { i.httpAsync("GET", top.$.rootUrl + "/LR_SystemModule/DatabaseLink/GetList", null, function (k) { if (!!k) { d.db = k } c.db.states = j.yes; setTimeout(function () { c.db.states = j.no }, c.db.timeout) }) }, find: function (n, k) { var p = {}; for (var m = 0, o = k.length; m < o; m++) { if (k[m].F_DatabaseLinkId == n) { p = k[m]; break } } return p } }; c.dataItem = { states: {}, get: function (l) { d.dataItem = d.dataItem || {}; if (c.dataItem.states[l.itemCode] == undefined || c.dataItem.states[l.itemCode] == j.no) { c.dataItem.states[l.itemCode] = j.ing; c.dataItem.load(l.itemCode) } if (c.dataItem.states[l.itemCode] == j.ing) { var m = l; setTimeout(function () { c.dataItem.get(m) }, 100) } else { var k = d.dataItem[l.itemCode]; if (!!k) { l.callback(c.dataItem.find(l.key, k)) } else { l.callback({}) } } }, load: function (k) { i.httpAsync("GET", top.$.rootUrl + "/LR_SystemModule/DataItem/GetDetailList", { itemCode: k }, function (l) { if (!!l) { d.dataItem[k] = l } c.dataItem.states[k] = j.yes }) }, find: function (n, k) { var p = {}; for (var m = 0, o = k.length; m < o; m++) { if (k[m].F_ItemValue == n) { p = k[m]; break } } return p } }; c.custmerData = { timeout: 300000, states: {}, get: function (l) { if (c.custmerData.states[l.url] == undefined || c.custmerData.states[l.url] == j.no) { c.custmerData.states[l.url] = j.ing; c.custmerData.load(l.url) } if (c.custmerData.states[l.url] == j.ing) { var m = l; setTimeout(function () { c.custmerData.get(m) }, 100) } else { var k = d[l.url]; if (!!k) { l.callback(c.custmerData.find(l.key, l.valueId, k)) } else { l.callback({}) } } }, load: function (k) { i.httpAsync("GET", top.$.rootUrl + k, {}, function (l) { if (!!l) { d[k] = l } c.custmerData.states[k] = j.yes; setTimeout(function () { c.custmerData.states[k] = j.no }, c.custmerData.timeout) }) }, find: function (n, q, k) { var p = {}; for (var m = 0, o = k.length; m < o; m++) { if (k[m][q] == n) { p = k[m]; break } } return p } }
        })(window.jQuery, top.learun);

        (function (a, f) {
            var b = { bootstraper: top.$.workflowapi + "/workflow/bootstraper", taskinfo: top.$.workflowapi + "/workflow/taskinfo", processinfo: top.$.workflowapi + "/workflow/processinfo", create: top.$.workflowapi + "/workflow/create", audit: top.$.workflowapi + "/workflow/audit" }; var d = function (j, i, g, h) { f.loading(true, h || "正在获取数据"); f.httpAsync("GET", j, i, function (k) { f.loading(false); g(k) }) }; var e = function (j, i, g, h) { f.loading(true, h || "正在获取数据"); f.httpAsync("Post", j, i, function (k) { f.loading(false); g(k) }) }; function c() { var g = { token: top.$.cookie("Learun_ADMS_V6.1_Token"), loginMark: top.$.cookie("Learun_ADMS_V6.1_Mark"), }; return g } f.workflowapi = { bootstraper: function (h) { var g = { isNew: true, processId: "", schemeCode: "", }; a.extend(g, h); var i = c(); i.data = JSON.stringify({ isNew: g.isNew, processId: g.processId, schemeCode: g.schemeCode }); e(b.bootstraper, i, function (j) { if (j != null) { if (j.status == 1) { h.callback(true, j.data) } else { f.alert.error(j.desc); h.callback(false) } } else { f.alert.error("获取流程信息失败!"); h.callback(false) } }, "正在获取流程信息...") }, create: function (h) { var g = { isNew: true, processId: "", schemeCode: "", }; a.extend(g, h); var i = c(); i.data = JSON.stringify({ isNew: g.isNew, processId: g.processId, schemeCode: g.schemeCode, processName: g.processName, processLevel: g.processLevel, description: g.description, formData: h.formData }); e(b.create, i, function (j) { if (j != null) { if (j.status == 1) { h.callback(true) } else { f.alert.error(j.desc); h.callback(false) } } else { f.alert.error("创建流程失败!"); h.callback(false) } }, "正在创建流程实例...") }, taskinfo: function (h) { var g = { isNew: false, processId: "", taskId: "", }; a.extend(g, h); var i = c(); i.data = JSON.stringify({ isNew: g.isNew, processId: g.processId, taskId: g.taskId }); e(b.taskinfo, i, function (j) { if (j != null) { if (j.status == 1) { h.callback(true, j.data) } else { f.alert.error(j.desc); h.callback(false) } } else { f.alert.error("获取流程信息失败!"); h.callback(false) } }, "正在获取流程信息...") }, audit: function (h) { var g = { verifyType: "", taskId: "", }; a.extend(g, h); var i = c(); i.data = JSON.stringify({ taskId: g.taskId, verifyType: g.verifyType, description: g.description, auditorId: g.auditorId, auditorName: g.auditorName, formData: h.formData }); e(b.audit, i, function (j) { if (j != null) { if (j.status == 1) { h.callback(true) } else { f.alert.error(j.desc); h.callback(false) } } else { f.alert.error("流程审核失败!"); h.callback(false) } }, "正在审核流程实例...") }, processinfo: function (h) { var g = { isNew: false, processId: "", taskId: "", }; a.extend(g, h); var i = c(); i.data = JSON.stringify({ isNew: false, processId: g.processId, taskId: g.taskId }); e(b.processinfo, i, function (j) { if (j != null) { if (j.status == 1) { h.callback(true, j.data) } else { f.alert.error(j.desc); h.callback(false) } } else { f.alert.error("获取流程信息失败!"); h.callback(false) } }, "正在获取流程信息...") }, }
        })(jQuery, top.learun);

        (function (a, b) {
            a.fn.lrcontextmenu = function (e) { var d = { menulist: [], before: false }; a.extend(d, e || {}); var c = a(this); d.id = c.attr("id"); if (!d.id) { return false } if (!!c[0]._lrcontextmenu) { return false } c[0]._lrcontextmenu = { dfop: d }; c.on("contextmenu", function (n) { n.preventDefault(); var g = a(this); var m = g[0]._lrcontextmenu.dfop; var r = m.id + "_contextmenu_wrap"; var j = a("#" + r); if (j.length > 0) { if (!!m.before) { m.before(n, j) } j.show() } else { j = a('<div class="lr-contextmenu-wrap" id="' + r + '" ><ul class="lr-contextmenu-ul"></ul></div>'); var h = j.find(".lr-contextmenu-ul"); for (var o = 0, q = m.menulist.length; o < q; o++) { var p = m.menulist[o]; var f = a('<li data-value="' + p.id + '" ><a href="javascript:;"><span>' + p.text + "</span><a></li>"); f.on("click", p.click); h.append(f) } a("body").append(j); j.show(); if (!!m.before) { m.before(n, j) } } var k = a(window).scrollTop() + n.clientY, s = (j.width() + n.clientX < a(window).width()) ? n.clientX : n.clientX - j.width(), t = (j.height() + n.clientY < a(window).height()) ? k : k - j.height(); j.css({ left: s, top: t }) }); a(document).on("click", function () { var g = d.id + "_contextmenu_wrap"; var f = a("#" + g); f.hide() }) }
        })(jQuery, top.learun);

        (function (a, b) {
            var c; a.lrIM = { init: function () { a._lrIM.render() }, addMsgTolist: function (g, j, i, h) { var e = a("#learun_im_last_list"); var d = e.find('[data-value="' + g + '"]'); if (d.length > 0) { } else { var f = '<li data-value="' + g + '">'; f += '<img src="' + top.$.rootUrl + "/Content/images/learunim/" + h + '">'; f += ""; f += '<div class="lr-im-onemsg">'; f += '<p class="lr-im-onemsg-title">' + j + "</p>"; f += '<p class="lr-im-onemsg-content">' + i + "</p>"; f += "</div></li>" } }, updateMsgNum: function (d, e) { } }; a._lrIM = { render: function () { var d = '<div class="lr-im-icon"  ><a href="javascript:;" id="lr_imicon_btn" title="企业内部通讯"><i class="fa fa-commenting"></i><span class="label label-success"></span></a></div>'; d += '<div class="lr-im-wrap" >'; d += '<div class="lr-im-user-list" style="display:none;" id="learun_im_list" >'; d += '<div class="lr-im-header">企业内部通讯<div class="lr-im-close"><a id="learun_im_close" href="javascript:;">×</a></div></div>'; d += '<div class="lr-im-search"><input type="text" placeholder="搜索：同事名称、讨论组名称"><i class="fa fa-search"></i></div>'; d += '<div class="lr-im-body">'; d += '<div class="lr-im-body-nav" id="learun_im_list_nav" ><ul>'; d += '<li class="active nav_tab" data-value="last"><a title="最近回话"><i class="fa fa-comment"></i></a></li>'; d += '<li class="nav_tab" data-value="user"><a title="联系人"><i class="fa fa-user"></i></a></li>'; d += '<li class="nav_tab" data-value="group"><a title="讨论组"><i class="fa fa-users" style="font-size: 20px;"></i></a></li>'; d += "</ul></div>"; d += '<div class="lr-im-body-list" id="learun_im_body_list">'; d += '<ul id="learun_im_last_list" class="active" ></ul>'; d += '<ul id="learun_im_user_list" style="display:none;" ><li id="learun_im_mydepartment"><a class="lr-im-item"><i class="fa fa-caret-right"></i><span>本部门</span><em> 0/0 </em></a><ul class="learun-im-chatlist"></ul></li></ul>'; d += '<ul id="learun_im_group_list" style="display:none;" ></ul>'; d += "</div>"; d += "</div>"; d += "</div>"; d += '<div class="lr-im-window" style="display:none;" id="learun_im_window">'; d += '<div class="lr-im-window-header"><span class="text"></span><div class="close"><a href="javascript:;">×</a></div></div>'; d += '<div class="lr-im-window-tool"><a class="lr-im-window-tool-face " title="选择表情"><i class="fa fa-meh-o"></i></a></div>'; d += '<div class="lr-im-window-send"><textarea autofocus="" placeholder="按回车发送消息,shift+回车换行"></textarea></div>'; d += "</div>"; d += "</div>"; a("body").append(d); a("#lr_imicon_btn").on("click", function () { var e = a("#learun_im_list"); if (e.is(":hidden")) { e.show() } }); a("#learun_im_close").on("click", function () { var e = a("#learun_im_list"); var f = a("#learun_im_window"); e.hide(); f.hide() }); a("#learun_im_list_nav li").on("click", function () { var g = a(this); if (!g.hasClass("active")) { var f = g.parent(); f.find(".active").removeClass("active"); g.addClass("active"); var h = "#learun_im_" + g.attr("data-value") + "_list"; var e = a(h); a("#learun_im_body_list>ul.active").removeClass("active").hide(); e.addClass("active").show() } }); a("#learun_im_body_list").learuncontextmenu({ before: function (g, f) { }, menulist: [{ id: "addfirend", text: "添加好友", click: a._lrIM.addFirend }, { id: "addteam", text: "添加分组", click: function () { } }, { id: "renameteam", text: "重命名分组", click: function () { } }, { id: "renameteam", text: "新建群组", click: function () { } }, { id: "renameteam", text: "重命名群", click: function () { } }] }) }, addFirend: function () { b.layerForm({ id: "form", title: "添加好友", url: top.$.rootUrl + "/LR_OrganizationModule/User/SelectForm", width: 800, height: 520, maxmin: true, callBack: function (d) { return top[d].acceptClick(function (e) { console.log(e) }) } }) } }
        })(jQuery, top.learun);

        (function ($, learun) {
            var userinfo; var imChat; $.imServer = { init: function () { return; $.imServer.getUserInfo(function () { $.lrIM.init(); $.imServer.connect() }) }, connect: function () { $.ajax({ url: userinfo.imUrl + "/hubs", type: "get", dataType: "text", success: function (data) { eval(data); $.connection.hub.url = userinfo.imUrl; $.connection.hub.qs = { userId: userinfo.UserId }; imChat = $.connection.ChatsHub; $.imServer.registerClient(); $.connection.hub.start().done(function () { $.imServer.registerServer(); $.imServer.afterSuccess() }); $.connection.hub.disconnected(function () { $.imServer.disconnected() }) } }) }, afterSuccess: function () { }, disconnected: function () { }, registerClient: function () { }, registerServer: function () { }, getUserInfo: function (callback) { userinfo = learun.clientdata.get(["userinfo"]); if (!!userinfo) { callback() } else { setTimeout(function () { $.imServer.getUserInfo(callback) }, 100) } } }
        })(jQuery, top.learun);

        var loaddfimg; (function (a, b) {
            var c = { init: function () { if (a("body").hasClass("IE") || a("body").hasClass("InternetExplorer")) { a("#lr_loadbg").append('<img src="' + top.$.rootUrl + '/Content/images/ie-loader.gif" style="position: absolute;top: 0;left: 0;right: 0;bottom: 0;margin: auto;vertical-align: middle;">'); Pace.stop() } else { Pace.on("done", function () { a("#lr_loadbg").fadeOut(); Pace.options.target = "#learunpacenone" }) } toastr.options = { closeButton: true, debug: false, newestOnTop: true, progressBar: false, positionClass: "toast-bottom-right", preventDuplicates: false, onclick: null, showDuration: "300", hideDuration: "1000", timeOut: "3000", extendedTimeOut: "1000", showEasing: "swing", hideEasing: "linear", showMethod: "fadeIn", hideMethod: "fadeOut" }; b.frameTab.open({ F_ModuleId: "0", F_Icon: "fa fa-desktop", F_FullName: "首页模板", F_UrlAddress: "/Home/AdminDesktopTemp" }, true); b.clientdata.init(function () { c.userInit(); bootstrap(a, b); if (a("body").hasClass("IE") || a("body").hasClass("InternetExplorer")) { a("#lr_loadbg").fadeOut() } }); c.loadbarInit(); c.fullScreenInit(); c.uitheme() }, userInit: function () { var f = b.clientdata.get(["userinfo"]); var e; if (f.gender != 0) { e = top.$.rootUrl + "/Content/images/head/on-boy.jpg" } else { e = top.$.rootUrl + "/Content/images/head/on-girl.jpg" } loaddfimg = function () { document.getElementById("useDOVEead").src = e }; var d = '<div class="lr-frame-personCenter"><a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown">'; d += '<img id="useDOVEead" src="' + top.$.rootUrl + f.headIcon + '" alt="用户头像" onerror="loaddfimg()" >'; d += "<span>" + f.realName + "</span>"; d += "</a>"; d += '<ul class="dropdown-menu pull-right">'; d += '<li><a href="javascript:void(0);" id="lr_userinfo_btn"><i class="fa fa-user"></i>个人信息</a></li>'; d += '<li><a href="javascript:void(0);" id="lr_schedule_btn"><i class="fa fa-calendar"></i>我的日程</a></li>'; d += '<li class="divider"></li>'; if (f.isSystem) { d += '<li><a href="javascript:void(0);" id="lr_clearredis_btn"><i class="fa fa-refresh"></i>清空缓存</a></li>'; d += '<li class="divider"></li>' } d += '<li><a href="javascript:void(0);" id="lr_loginout_btn"><i class="fa fa-power-off"></i>安全退出</a></li>'; d += "</ul></div>"; a("body").append(d); a("#lr_loginout_btn").on("click", c.loginout); a("#lr_userinfo_btn").on("click", c.openUserCenter); a("#lr_clearredis_btn").on("click", c.clearredis) }, loginout: function () { b.layerConfirm("注：您确定要安全退出本次登录吗？", function (d) { if (d) { b.loading(true, "退出系统中..."); b.httpAsyncPost(a.rootUrl + "/Login/OutLogin", {}, function (e) { window.location.href = a.rootUrl + "/Login/Index" }) } }) }, clearredis: function () { b.layerConfirm("注：您确定要清空全部后台缓存数据吗？", function (d) { if (d) { b.loading(true, "清理缓存数据中..."); b.httpAsyncPost(a.rootUrl + "/Home/ClearRedis", {}, function (e) { window.location.href = a.rootUrl + "/Login/Index" }) } }) }, openUserCenter: function () { b.frameTab.open({ F_ModuleId: "1", F_Icon: "fa fa-user", F_FullName: "个人中心", F_UrlAddress: "/UserCenter/Index" }) }, fullScreenInit: function () { var d = '<div class="lr_frame_fullscreen"><a href="javascript:void(0);" id="lr_fullscreen_btn" title="全屏"><i class="fa fa-arrows-alt"></i></a></div>'; a("body").append(d); a("#lr_fullscreen_btn").on("click", function () { if (!a(this).attr("fullscreen")) { a(this).attr("fullscreen", "true"); c.requestFullScreen() } else { a(this).removeAttr("fullscreen"); c.exitFullscreen() } }) }, requestFullScreen: function () { var d = document.documentElement; if (d.requestFullscreen) { d.requestFullscreen() } else { if (d.mozRequestFullScreen) { d.mozRequestFullScreen() } else { if (d.webkitRequestFullScreen) { d.webkitRequestFullScreen() } } } }, exitFullscreen: function () { var d = document; if (d.exitFullscreen) { d.exitFullscreen() } else { if (d.mozCancelFullScreen) { d.mozCancelFullScreen() } else { if (d.webkitCancelFullScreen) { d.webkitCancelFullScreen() } } } }, loadbarInit: function () { var d = '<div class="lr-loading-bar" id="lr_loading_bar" >'; d += '<div class="lr-loading-bar-bg"></div>'; d += '<div class="lr-loading-bar-message" id="lr_loading_bar_message"></div>'; d += "</div>"; a("body").append(d) }, uitheme: function () { var g = top.$.cookie("Learn_ADMS_V6.1_UItheme") || "1"; var e = a('<div class="lr-theme-setting"></div>'); var d = a('<button class="btn btn-default"><i class="fa fa-spin fa-gear"></i></button>'); var f = '<div class="panel-heading">界面风格</div>'; f += '<div class="panel-body">'; f += '<div><label><input type="radio" name="ui_theme" value="1" ' + (g == "1" ? "checked" : "") + ">经典版</label></div>"; f += '<div><label><input type="radio" name="ui_theme" value="2" ' + (g == "2" ? "checked" : "") + ">风尚版</label></div>"; f += '<div><label><input type="radio" name="ui_theme" value="3" ' + (g == "3" ? "checked" : "") + ">炫动版</label></div>"; f += '<div><label><input type="radio" name="ui_theme" value="4" ' + (g == "4" ? "checked" : "") + ">飞扬版</label></div>"; f += "</div>"; e.append(d); e.append(f); a("body").append(e); d.on("click", function () { var h = a(this).parent(); if (h.hasClass("opened")) { h.removeClass("opened") } else { h.addClass("opened") } }); e.find("input").click(function () { var h = a(this).val(); top.$.cookie("Learn_ADMS_V6.1_UItheme", h, { path: "/" }); window.location.href = a.rootUrl + "/Home/Index" }) }, }; a(function () { c.init() })
        })(window.jQuery, top.learun);
    </script>
</head>
<body>

</body>
</html>